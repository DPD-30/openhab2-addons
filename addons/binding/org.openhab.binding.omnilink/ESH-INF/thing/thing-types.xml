<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="omnilink"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
        xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

    <bridge-type id="omnilinkBridge">
        <label>Omnilink IP Access Point</label>
        <description>Ethernet access point to Omnilink control system</description>
            <channels>
                <channel id="sysdate" typeId="sysDate" />
                
            </channels>
        <config-description>
            <parameter name="ipAddress" type="text" required="true">
                <context>network-address</context>
                <label>IP or Host Name</label>
                <description>The IP or host name of the Omnilink Controller</description>
            </parameter>
            <parameter name="key1" type="text" required="true">
                <label>Key 1</label>
                <description>The first key</description>
            </parameter>
            <parameter name="key2" type="text" required="true">
                <label>Key 2</label>
                <description>The second key</description>
            </parameter>
        </config-description>
    </bridge-type>
    <thing-type id="room">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Room</label>
        <description>Grouping of Units</description>

        <channels>
            <channel id="switch" typeId="scene_switch" />
            <channel id="on" typeId="scene_on" />
            <channel id="off" typeId="scene_off" />
            <channel id="scenea" typeId="scene_togglea" />
            <channel id="sceneb" typeId="scene_toggleb" />
            <channel id="scenec" typeId="scene_togglec" />
            <channel id="scened" typeId="scene_toggled" />
            <channel id="status" typeId="room_status" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Unit Number</label>
                <description>Unit number of the dimmer.</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the dimmer.</description>
            </parameter>
        </config-description>
    </thing-type>
    <thing-type id="flag">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Flag</label>
        <description>Flag within Omnilink</description>

        <channels>
            <channel id="value" typeId="flagvalue" />
            <channel id="switch" typeId="flagswitch" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Flag Number</label>
                <description>Unit number of the flag.</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the flag.</description>
            </parameter>
        </config-description>
    </thing-type>
    <thing-type id="button">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Button</label>
        <description>Button within Omnilink</description>

        <channels>
            <channel id="press" typeId="buttonPress" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Flag Number</label>
                <description>Unit number of the flag.</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the flag.</description>
            </parameter>
        </config-description>
    </thing-type>
    <thing-type id="unit">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Unit</label>
        <description>Controls dimmable loads</description>

        <channels>
            <channel id="lightlevel" typeId="lightlevel" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Unit Number</label>
                <description>Unit number of the dimmer.</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the dimmer.</description>
            </parameter>
        </config-description>
    </thing-type>
    <thing-type id="zone">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Security Zone</label>
        <description>Security Zone</description>

        <channels>
            <channel id="status" typeId="ContactSensor" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Zone Number</label>
                <description>Zone Number</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the zone.</description>
            </parameter>
        </config-description>
    </thing-type>
     <thing-type id="area">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Omnilink Area</label>
        <description>Omnilink Area</description>

        <channels>
            <channel id="alarm" typeId="area_alarm" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Zone Number</label>
                <description>Zone Number</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the zone.</description>
            </parameter>
        </config-description>
    </thing-type>
    
    <channel-type id="lightlevel">
        <item-type>Dimmer</item-type>
        <label>Light Level</label>
        <description>Increase/decrease the light level</description>
        <category>DimmableLight</category>
        <state min="0" max="100" pattern="%d %%" />
    </channel-type>
    <channel-type id="switch">
        <item-type>Switch</item-type>
        <label>Load Switch</label>
        <description>Toggle Load</description>
        <category>Switch</category>
        <state pattern="%s" ></state>
    </channel-type>
    <channel-type id="ContactSensor">
        <item-type>Switch</item-type>
        <label>Contact State</label>
        <description>Contact state information</description>
        <category>Contact</category>
        <state pattern="%s" readOnly="true"></state>
    </channel-type>
    <channel-type id="scene_switch">
        <item-type>Switch</item-type>
        <label>On/Off</label>
        <description>Send On/Off to Room</description>
        <category>Switch</category>
        <state pattern="%s" ></state>
    </channel-type>
    <channel-type id="scene_on">
        <item-type>Switch</item-type>
        <label>On Scene</label>
        <description>Turn on On Scene</description>
        <category>Switch</category>
        <state pattern="%s" ></state>
    </channel-type>
    <channel-type id="scene_off">
        <item-type>Switch</item-type>
        <label>Off Scene</label>
        <description>Turn on Off Scene</description>
        <category>Switch</category>
        <state pattern="%s" ></state>
    </channel-type>
    <channel-type id="scene_togglea">
        <item-type>Switch</item-type>
        <label>Scene A</label>
        <description>Scene Toggle</description>
        <category>Toggle</category>
        <state pattern="%s"></state>
    </channel-type>
    <channel-type id="scene_toggleb">
        <item-type>Switch</item-type>
        <label>Scene B</label>
        <description>Scene Toggle</description>
        <category>Toggle</category>
        <state pattern="%s"></state>
    </channel-type>
    <channel-type id="scene_togglec">
        <item-type>Switch</item-type>
        <label>Scene C</label>
        <description>Scene Toggle</description>
        <category>Toggle</category>
        <state pattern="%s"></state>
    </channel-type>
    <channel-type id="scene_toggled">
        <item-type>Switch</item-type>
        <label>Scene D</label>
        <description>Scene Toggle</description>
        <category>Toggle</category>
        <state pattern="%s"></state>
    </channel-type>
    <channel-type id="room_status" >
        <item-type>Number</item-type>
        <label>Status</label>
        <description>Status of room (0 off, 1 on, 2 scene a, 3 scene b, etc)</description>
        <state min="0" max="6" readOnly="true"/>
    </channel-type>
    <channel-type id="area_alarm">
        <item-type>String</item-type>
        <label>Area Alarm</label>
        <description>Represents area mode.</description>
        <category>Alarm</category>
    </channel-type>
    <channel-type id="flagvalue">
        <item-type>Number</item-type>
        <label>Flag Value</label>
        <description>Represents value for a flag.</description>
        <category>Flag Control</category>
    </channel-type>
    <channel-type id="flagswitch">
        <item-type>Switch</item-type>
        <label>On/Off</label>
        <description>Flag Switch information</description>
        <category>Switch</category>
        <state pattern="%s" readOnly="true"></state>
    </channel-type>   
    <channel-type id="buttonPress">
        <item-type>Switch</item-type>
        <label>Button Press</label>
        <description>Button Press</description>
        <category>Contact</category>
        <state pattern="%s"></state>
    </channel-type>
    
    <channel-type id="sysDate">
        <item-type>DateTime</item-type>
        <label>System Time</label>
        <description>The date/time of omnilink last time received system status</description>
        <!-- <state readOnly="true"  />
        pattern="%1$tF %1$tR" -->
    </channel-type>
</thing:thing-descriptions>
