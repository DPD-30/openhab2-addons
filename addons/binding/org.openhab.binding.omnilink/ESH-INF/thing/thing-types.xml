<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="omnilink"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
        xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

    <bridge-type id="omnilinkBridge">
        <label>Omnilink IP Access Point</label>
        <description>Ethernet access point to Omnilink control system</description>

        <config-description>
            <parameter name="ipAddress" type="text" required="true">
                <context>network-address</context>
                <label>IP or Host Name</label>
                <description>The IP or host name of the Omnilink Controller</description>
            </parameter>
            <parameter name="key1" type="text" required="true">
                <label>Key 1</label>
                <description>The first key</description>
            </parameter>
            <parameter name="key2" type="text" required="true">
                <label>Key 2</label>
                <description>The second key</description>
            </parameter>
        </config-description>
    </bridge-type>
    <bridge-type id="room">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Room</label>
        <description>Grouping of Units</description>

        <channels>
            <channel id="status" typeId="lightlevel" />
            <channel id="scenea" typeId="scene_toggle" />
            <channel id="sceneb" typeId="scene_toggle" />
            <channel id="scenec" typeId="scene_toggle" />
            <channel id="scened" typeId="scene_toggle" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Unit Number</label>
                <description>Unit number of the dimmer.</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the dimmer.</description>
            </parameter>
        </config-description>
    </bridge-type>
    <thing-type id="flag">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Flag</label>
        <description>Flag within Omnilink</description>

        <channels>
            <channel id="value" typeId="flagvalue" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Flag Number</label>
                <description>Unit number of the flag.</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the flag.</description>
            </parameter>
        </config-description>
    </thing-type>
    <thing-type id="unit">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Unit</label>
        <description>Controls dimmable loads</description>

        <channels>
            <channel id="lightlevel" typeId="lightlevel" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Unit Number</label>
                <description>Unit number of the dimmer.</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the dimmer.</description>
            </parameter>
        </config-description>
    </thing-type>
    <thing-type id="zone">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Security Zone</label>
        <description>Security Zone</description>

        <channels>
            <channel id="status" typeId="ContactSensor" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Zone Number</label>
                <description>Zone Number</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the zone.</description>
            </parameter>
        </config-description>
    </thing-type>
     <thing-type id="area">
        <supported-bridge-type-refs>
            <bridge-type-ref id="omnilinkBridge" />
        </supported-bridge-type-refs>

        <label>Omnilink Area</label>
        <description>Omnilink Area</description>

        <channels>
            <channel id="alarm" typeId="area_alarm" />
        </channels>

        <config-description>
            <parameter name="number" type="integer" required="true">
                <label>Zone Number</label>
                <description>Zone Number</description>
            </parameter>
            <parameter name="name" type="text" required="true">
                <label>Name</label>
                <description>Name of the zone.</description>
            </parameter>
        </config-description>
    </thing-type>
    
    <channel-type id="lightlevel">
        <item-type>Dimmer</item-type>
        <label>Light Level</label>
        <description>Increase/decrease the light level</description>
        <category>DimmableLight</category>
        <state min="0" max="100" pattern="%d %%" />
    </channel-type>
    
    <channel-type id="ContactSensor">
        <item-type>Switch</item-type>
        <label>Contact State</label>
        <description>Contact state information</description>
        <category>Contact</category>
        <state pattern="%s" readOnly="true"></state>
    </channel-type>
    <channel-type id="scene_toggle">
        <item-type>Switch</item-type>
        <label>Contact State</label>
        <description>Contact state information</description>
        <category>Contact</category>
        <state pattern="%s" readOnly="true"></state>
    </channel-type>
    <channel-type id="area_alarm">
        <item-type>String</item-type>
        <label>Area Alarm</label>
        <description>Represents area mode.</description>
        <category>Alarm</category>
    </channel-type>
    <channel-type id="flagvalue">
        <item-type>Number</item-type>
        <label>Flag Value</label>
        <description>Represents value for a flag.</description>
        <category>Flag Control</category>
    </channel-type>   
</thing:thing-descriptions>
